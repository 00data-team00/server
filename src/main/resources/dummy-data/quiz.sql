-- 1. 외래키 검사 비활성화
SET FOREIGN_KEY_CHECKS = 0;

-- 2. 기존 데이터 삭제 (자식 → 부모 순서)
TRUNCATE TABLE quiz_choice;
TRUNCATE TABLE quizzes;
TRUNCATE TABLE choices;
ALTER TABLE quizzes AUTO_INCREMENT = 1;
ALTER TABLE choices AUTO_INCREMENT = 1;

-- 3. Word(choices) 테이블 데이터 삽입
INSERT INTO choices (word, description) VALUES
                                            ('보이스피싱', '휴대폰 등 전기통신수단을 이용하여 타인을 속이거나 협박하여 자금을 송금·이체하도록 하게 하거나 개인정보를 알아내어 자금을 송금·이체하는 행위'),
                                            ('로그인', '컴퓨터나 웹사이트에 사용자 아이디와 비밀번호를 입력하여 접속하는 행위'),
                                            ('리모콘', '텔레비전이나 에어컨 등의 전자기기를 멀리서 조작할 수 있는 원격 제어 장치'),
                                            ('계약', '둘 이상의 당사자가 서로 합의하여 법적 구속력이 있는 약속을 맺는 행위'),
                                            ('김치', '배추나 무 등의 채소를 소금에 절여 고춧가루, 마늘 등의 양념과 함께 발효시킨 한국의 전통 음식'),
                                            ('불고기', '얇게 썬 소고기를 간장, 설탕, 마늘 등으로 양념하여 구운 한국의 대표적인 고기 요리'),
                                            ('비빔밥', '밥 위에 여러 가지 나물과 고기, 달걀 등을 올리고 고추장을 넣어 비벼 먹는 한국 요리'),
                                            ('떡볶이', '가래떡을 고추장 양념에 끓여 만든 한국의 대표적인 길거리 음식'),
                                            ('한복', '한국의 전통 의상으로 저고리와 치마 또는 바지로 구성되어 있음'),
                                            ('태권도', '발과 주먹을 사용하는 한국의 전통 무술이자 올림픽 정식 종목'),
                                            ('판소리', '한 명의 소리꾼이 고수의 북 반주에 맞춰 이야기를 노래로 들려주는 한국의 전통 음악'),
                                            ('온돌', '방 바닥 아래에 고래를 만들어 연기와 열기로 방을 따뜻하게 하는 한국의 전통 난방 방식'),
                                            ('지하철', '도시의 지하에 만든 전철로 대중교통 수단 중 하나'),
                                            ('편의점', '24시간 운영하며 생필품을 판매하는 작은 규모의 상점'),
                                            ('PC방', '컴퓨터를 시간당 요금을 받고 이용할 수 있는 업소'),
                                            ('치킨', '닭고기를 튀기거나 구워서 만든 요리로 한국에서 매우 인기가 높음'),
                                            ('한글', '한국어를 표기하는 고유 문자로 세종대왕이 창제함'),
                                            ('존댓말', '상대방을 높여서 하는 말로 한국어의 중요한 특징 중 하나'),
                                            ('발음', '말소리를 내는 것 또는 그 소리'),
                                            ('문법', '언어의 구조와 규칙을 다루는 체계'),
                                            ('사물놀이', '꽹과리, 징, 장구, 북 네 가지 타악기로 연주하는 한국의 전통 음악'),
                                            ('양반', '조선시대 지배층 계급으로 문무관을 지낼 수 있는 신분'),
                                            ('선비', '학문을 닦고 덕을 쌓는 것을 이상으로 하는 조선시대의 지식인 계층'),
                                            ('농악', '농촌에서 일할 때나 축제 때 연주하던 한국의 전통 음악과 춤');

-- 4. Quiz 테이블 데이터 삽입 (텍스트/단어 매칭 제거, quiz_text 통일)
INSERT INTO quizzes (level, category, quiz_text, image, voice, answer, answer_script) VALUES
-- Level 1 - 그림/단어 매칭
(1, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/kimchi.png', NULL, 1, '빨간 고춧가루로 양념한 발효 채소 음식이므로 김치가 정답입니다!'),
(1, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/bulgogi.png', NULL, 2, '양념한 소고기를 구운 요리이므로 불고기가 맞습니다!'),
(1, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/tteokbokki.png', NULL, 1, '고추장 양념에 끓인 가래떡 요리이므로 떡볶이가 정답이에요!'),
(1, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/chicken.png', NULL, 1, '닭고기를 튀긴 요리이므로 치킨이 정답입니다!'),

-- Level 2 - 그림/단어 매칭 & 음성/단어 매칭
(2, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/hanbok.png', NULL, 1, '저고리와 치마로 구성된 한국의 전통 의상이므로 한복이 정답이에요!'),
(2, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/convenience_store.png', NULL, 2, '작은 규모로 생필품을 파는 상점 그림이므로 편의점이 정답이에요!'),
(2, '음성/단어 매칭', '음성을 듣고 해당하는 의미의 단어를 선택해주세요!', NULL, '한 명의 소리꾼이 고수의 북 반주에 맞춰 이야기를 노래로 들려주는 한국의 전통 음악', 2, NULL),
(2, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/subway.png', NULL, 1, '전철에 M 알파벳이 있는 그림이므로 지하철이 맞습니다!'),

-- Level 3 - 그림/단어 매칭 & 음성/단어 매칭
(3, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/voice_phishing.png', NULL, 1, '신원 미상의 나쁜 사람에게 전화를 받고 당황하는 그림이기 때문에 보이스피싱이 가장 적절해요!'),
(3, '음성/단어 매칭', '음성을 듣고 해당하는 의미의 단어를 선택해주세요!', NULL, '꽹과리, 징, 장구, 북 네 가지 타악기로 연주하는 한국의 전통 음악', 1, NULL),
(3, '그림/단어 매칭', '그림에 맞는 단어를 선택해주세요!', '/images/ondol.png', NULL, 1, '방 바닥 아래로 열기를 보내는 전통 난방법을 설명하는 그림이므로 온돌이 정답이에요!'),
(3, '음성/단어 매칭', '음성을 듣고 해당하는 의미의 단어를 선택해주세요!', NULL, '발과 주먹을 사용하는 한국의 전통 무술이자 올림픽 정식 종목', 2, NULL);

-- 5. Quiz-Word 매핑 데이터 삽입 (퀴즈 ID 순서 정렬)
INSERT INTO quiz_choice (quiz_id, choice_id) VALUES
-- Level 1 (퀴즈ID 1-4)
(1, 5), (1, 6), (1, 7), (1, 8),      -- 김치: 김치(5), 불고기(6), 비빔밥(7), 떡볶이(8)
(2, 8), (2, 6), (2, 7), (2, 5),      -- 불고기: 떡볶이(8), 불고기(6), 비빔밥(7), 김치(5)
(3, 8), (3, 7), (3, 5), (3, 6),      -- 떡볶이: 떡볶이(8), 비빔밥(7), 김치(5), 불고기(6)
(4, 16), (4, 13), (4, 14), (4, 15),  -- 치킨: 치킨(16), 지하철(13), 편의점(14), PC방(15)

-- Level 2 (퀴즈ID 5-8)
(5, 9), (5, 10), (5, 11), (5, 12),   -- 한복: 한복(9), 태권도(10), 판소리(11), 온돌(12)
(6, 15), (6, 14), (6, 16), (6, 13),  -- 편의점: PC방(15), 편의점(14), 치킨(16), 지하철(13)
(7, 11), (7, 9), (7, 10), (7, 12),   -- 판소리(음성): 판소리(11), 한복(9), 태권도(10), 온돌(12)
(8, 13), (8, 14), (8, 15), (8, 16),  -- 지하철: 지하철(13), 편의점(14), PC방(15), 치킨(16)

-- Level 3 (퀴즈ID 9-12)
(9, 1), (9, 2), (9, 3), (9, 4),      -- 보이스피싱: 보이스피싱(1), 로그인(2), 리모콘(3), 계약(4)
(10, 21), (10, 22), (10, 23), (10, 24), -- 사물놀이(음성): 사물놀이(21), 양반(22), 선비(23), 농악(24)
(11, 12), (11, 9), (11, 10), (11, 11), -- 온돌: 온돌(12), 한복(9), 태권도(10), 판소리(11)
(12, 10), (12, 11), (12, 9), (12, 12); -- 태권도(음성): 태권도(10), 판소리(11), 한복(9), 온돌(12)

-- 6. 외래키 검사 재활성화
SET FOREIGN_KEY_CHECKS = 1;
